# =============================================================================
# Environment Variables Template
# =============================================================================
# Copy this file to .env and customize the values for your environment.
# IMPORTANT: Never commit the .env file to version control!
#
# Usage:
#   cp .env.example .env
#   # Edit .env with your actual values
#   docker-compose up -d
# =============================================================================

# =============================================================================
# GENERAL APPLICATION SETTINGS
# =============================================================================

# Application environment mode
# Options: development, production, test
NODE_ENV=development

# =============================================================================
# DATABASE CONNECTION (Web Application)
# =============================================================================
# These variables configure how the web application connects to the database.

# Database host - use the service name from docker-compose
DB_HOST=db

# Database port (PostgreSQL default: 5432)
DB_PORT=5432

# Database name for the application
DB_NAME=app_database

# =============================================================================
# EMAIL / SMTP CONFIGURATION
# =============================================================================
# Email server settings for outgoing mail.
# Default values are configured for Mailhog (development email testing).

# SMTP server hostname
# For development: mailhog (catches all emails for testing)
# For production: your SMTP server (e.g., smtp.gmail.com)
SMTP_HOST=mailhog

# SMTP server port
# Mailhog: 1025
# Standard SMTP: 25, 465 (SSL), or 587 (TLS)
SMTP_PORT=1025

# =============================================================================
# POSTGRESQL DATABASE SERVER
# =============================================================================
# These variables configure the PostgreSQL database container itself.

# PostgreSQL admin username
POSTGRES_USER=app_user

# PostgreSQL admin password
# SECURITY: Change this to a strong, unique password in production!
POSTGRES_PASSWORD=CHANGE_ME_TO_SECURE_PASSWORD

# PostgreSQL database name (should match DB_NAME above)
POSTGRES_DB=app_database

# PostgreSQL data directory inside the container
# Usually no need to change this unless you have specific requirements
PGDATA=/var/lib/postgresql/data/pgdata

# =============================================================================
# ADMINER (Database Administration)
# =============================================================================
# Adminer is a web-based database management tool.
# Access it at: http://localhost:8081
#
# Connection settings for Adminer:
#   System:   PostgreSQL
#   Server:   db (Docker service name)
#   Username: (use POSTGRES_USER value above)
#   Password: (use POSTGRES_PASSWORD value above)
#   Database: (use POSTGRES_DB value above)
#
# Note: Adminer runs on port 8081 to avoid conflicts with the web service (8080).

# =============================================================================
# SSL/TLS CERTIFICATE MANAGEMENT (acme.sh)
# =============================================================================
# These variables configure automated SSL/TLS certificate management using
# Let's Encrypt with DNS-01 challenge via Hetzner DNS API.

# Hetzner DNS API Token
# Required for DNS-01 challenge to automatically issue and renew SSL certificates.
# Generate a token at: https://dns.hetzner.com/settings/api-token
# SECURITY: Keep this token secret - it provides full access to your DNS records!
HETZNER_TOKEN=CHANGE_ME_TO_HETZNER_API_TOKEN

# =============================================================================
# MQTT BROKER (Eclipse Mosquitto)
# =============================================================================
# Configuration for the Eclipse Mosquitto MQTT broker.
# Mosquitto provides messaging functionality for IoT devices and applications.

# MQTT standard port (unencrypted)
# Default: 1883
MQTT_PORT=1883

# MQTT port with TLS encryption
# Default: 8883
MQTT_TLS_PORT=8883

# MQTT WebSocket port (unencrypted)
# Default: 9001
MQTT_WS_PORT=9001

# MQTT WebSocket port with TLS encryption
# Default: 8084
MQTT_WSS_PORT=8084

# =============================================================================
# MQTT DASHBOARD (Web-based Management Interface)
# =============================================================================
# Configuration for the web-based MQTT broker management dashboard.
# The dashboard provides a graphical interface for monitoring broker statistics,
# connected clients, topics, and publishing messages.
#
# Access the dashboard at: http://localhost:8082

# Dashboard web interface port
# Default: 8082
MQTT_DASHBOARD_PORT=8082

# -----------------------------------------------------------------------------
# Flask Application Settings
# -----------------------------------------------------------------------------
# Flask framework configuration for the dashboard backend.

# Flask environment mode
# Options: development, production
# Default: production
FLASK_ENV=production

# Flask debug mode (enable detailed error pages)
# Options: 0 (disabled), 1 (enabled)
# Default: 0
# SECURITY: Never enable debug mode in production!
FLASK_DEBUG=0

# Flask secret key for session management and security
# REQUIRED in production mode! Generate a strong random value:
#   python3 -c "import secrets; print(secrets.token_hex(32))"
# SECURITY: Never use the same key across different environments!
SECRET_KEY=CHANGE_ME_TO_SECURE_RANDOM_KEY

# -----------------------------------------------------------------------------
# MQTT Broker Connection
# -----------------------------------------------------------------------------
# Settings for connecting the dashboard to the Mosquitto broker.

# MQTT broker hostname
# Use 'mosquitto' for the Docker service name
# Default: mosquitto
MQTT_BROKER_HOST=mosquitto

# MQTT broker port
# Use 1883 for unencrypted connection or 8883 for TLS
# Default: 1883
MQTT_BROKER_PORT=1883

# MQTT client identifier for the dashboard
# Must be unique if multiple dashboards connect to the same broker
# Default: mqtt-dashboard
MQTT_CLIENT_ID=mqtt-dashboard

# MQTT keepalive interval in seconds
# The broker will disconnect the client if no message is received within this time
# Default: 60
MQTT_KEEPALIVE=60

# -----------------------------------------------------------------------------
# MQTT Authentication (Optional)
# -----------------------------------------------------------------------------
# Credentials for connecting to the MQTT broker.
# Leave empty if the broker does not require authentication.

# MQTT username
# Default: (empty - no authentication)
MQTT_USERNAME=

# MQTT password
# SECURITY: Change this if your broker requires authentication!
# Default: (empty - no authentication)
MQTT_PASSWORD=

# -----------------------------------------------------------------------------
# MQTT TLS/SSL Configuration (Optional)
# -----------------------------------------------------------------------------
# Enable encrypted connection to the MQTT broker.

# Enable TLS/SSL encryption for MQTT connection
# Options: true, false
# Default: false
# Note: Set to 'true' when connecting to port 8883
MQTT_USE_TLS=false

# Allow insecure TLS connections (skip certificate verification)
# Options: true, false
# Default: false
# SECURITY: Only enable for testing with self-signed certificates!
MQTT_TLS_INSECURE=false

# =============================================================================
# Redis Configuration (Message Broker)
# =============================================================================
# Redis is used for pub/sub communication between MQTT client and dashboard

REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
# Leave empty for no password (development)
# For production, set a strong password

# -----------------------------------------------------------------------------
# WebSocket Configuration
# -----------------------------------------------------------------------------
# Socket.IO async mode for real-time dashboard updates.

# Socket.IO asynchronous mode
# Options: gevent, threading
# Default: gevent
# Note: 'gevent' is recommended for production use with Redis
SOCKETIO_ASYNC_MODE=gevent
